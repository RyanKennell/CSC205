<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>Program 2 </title>
    <link rel="stylesheet" type="text/css" href="view.css" media="all">
    <script type="text/javascript" src="view1.js"></script>
</head>

<body id="main_body">
    <img id="top" src="top.png" alt="">
    <div id="form_container">        
        <form id="program2" class="appnitro" method="post" action="">
            <div class="form_description">
                <h2>Program 2 </h2>
                <p>Form validation Program</p>
            </div>
            <div>
                <label class="description" for="element_1">Name </label>
                <div>
                    <span>
                        <label>First</label>
                        <input oninput='validateNames()' id="firstname" name="firstname" class="element text" maxlength="255" size="8" value="" />
                    </span>
                    <span>
                        <label>Last</label>
                        <input oninput='validateNames()' id="lastname" name="lastname" class="element text" maxlength="255" size="14" value="" />
                    </span>
                    <div id="nameerror" class="errormsg"></div>
                </div>
            </div>
            <div>
                <label class="description" for="element_2">Email </label>
                <div>
                    <input oninput='validateEmail()' id="email" name="email" class="element text medium" type="text" maxlength="255" value="" />
                </div>
                <div id="emailerror" class="errormsg"></div>
            </div>
            <div>
                <label class="description" for="element_3">Age </label>
                <div>
                    <input oninput='validateAge(document.getElementById("age"))' id="age" name="age" class="element text small" type="text" maxlength="255" value="" />
                </div>
                <div id="ageerror" class="errormsg"></div>
            </div>
            <div class="buttons">
                <input onclick='return validateAll()' id="submit" class="button_text" type="submit" name="submit" value="Submit" />
            </div>
        </form>
    </div>
</body>

<script>

function validateAll() {
	if(validateNames() && validateEmail() && validateAge()) {
		return true;
	}	
	alert("There are still invalid fields!");
	return false;
}

function validateNames() {
    var regName = /^[A-Za-z]+$/;
	var first = document.getElementById('firstname').value;
	var last = document.getElementById('lastname').value;
	var val = true;
	document.getElementById("nameerror").innerHTML = "";
	
    if(!regName.test(first)){
        document.getElementById("firstname").style.borderColor = "red";
		document.getElementById("firstname").style.backgroundColor = "tomato";
		document.getElementById("nameerror").innerHTML = "Invalid Name";
		val = false;
    } else {
	    document.getElementById("firstname").style.borderColor = "initial";
		document.getElementById("firstname").style.backgroundColor = "initial";
	}
	
	if(!regName.test(last)){
        document.getElementById("lastname").style.borderColor = "red";
		document.getElementById("lastname").style.backgroundColor = "tomato";
		document.getElementById("nameerror").innerHTML = "Invalid Name";
		val = false;
    } else {
		document.getElementById("lastname").style.borderColor = "initial";
		document.getElementById("lastname").style.backgroundColor = "initial";
	}
	return val;
}

function validateAge() {
    var regAge =  /^[0-9]+$/;
	var age = document.getElementById("age").value;
	document.getElementById("ageerror").innerHTML = "";
	
	if(!regAge.test(age) && age != "") {
	    document.getElementById("age").style.borderColor = "red";
		document.getElementById("age").style.backgroundColor = "tomato";
		document.getElementById("ageerror").innerHTML = "Invalid Age!";
		return false;
	}else{
	    document.getElementById("age").style.borderColor = "initial";
		document.getElementById("age").style.backgroundColor = "initial";
	}
	return true;
}

function validateEmail() {
    var email = document.getElementById('email').value;
	var regEmail = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
	
	document.getElementById("nameerror").innerHTML = "";
	
	if(!regEmail.test(email)) {
		document.getElementById("email").style.borderColor = "red";
		document.getElementById("email").style.backgroundColor = "tomato";
		document.getElementById("emailerror").innerHTML = "Invalid Email";
		return false;
    } else {
		document.getElementById("email").style.borderColor = "initial";
		document.getElementById("email").style.backgroundColor = "initial";
	}
	return true;
}

</script>

</html>